# üî• Backenium v0.1.3 - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Rust –∫–æ–¥–∞

## –ß—Ç–æ –Ω–æ–≤–æ–≥–æ?

### ‚ú® –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Rust –∫–æ–¥–∞

–¢–µ–ø–µ—Ä—å —Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç **–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, —Ä–∞–±–æ—á–∏–π Rust –∫–æ–¥**, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å!

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1Ô∏è‚É£ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏

**–ë—ã–ª–æ (v0.1.2):**
```rust
return "ok";  // ‚ùå &'static str, –∞ –Ω–µ String
```

**–°—Ç–∞–ª–æ (v0.1.3):**
```rust
return "ok".to_string();  // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π String
```

### 2Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Route Handlers

**–ë—ã–ª–æ (v0.1.2):**
```
@route –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –Ω–∏–∫–∞–∫–∏—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
```

**–°—Ç–∞–ª–æ (v0.1.3):**
```rust
#[get("/api/users")]
async fn get_api_users() -> impl Responder {
    HttpResponse::Ok().body("response")
}
```

### 3Ô∏è‚É£ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π HTTP Server

**–ë—ã–ª–æ (v0.1.2):**
- –ò–º–ø–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å, –Ω–æ —Å–µ—Ä–≤–µ—Ä –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª—Å—è

**–°—Ç–∞–ª–æ (v0.1.3):**
```rust
#[actix_web::main]
async fn main() -> std::io::Result<()> {
    HttpServer::new(|| {
        App::new()
            .service(get_api_users)
            .service(post_api_users)
    })
    .bind(("127.0.0.1", 8080))?
    .run()
    .await
}
```

### 4Ô∏è‚É£ –£–º–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã

–¢–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ:

```rust
use actix_web::{get, post, put, delete, App, HttpServer, HttpResponse, Responder};
```

–í–º–µ—Å—Ç–æ –∫—É—á–∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤

### 5Ô∏è‚É£ –†–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è CLI –∏ Web

**–ï—Å–ª–∏ –Ω–µ—Ç @route (CLI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ):**
```backenium
func add(int a, int b) -> int
    return a + b
end

func main()
    print(add(5, 3))
end
```

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —á–∏—Å—Ç—ã–π Rust –±–µ–∑ actix:
```rust
pub fn add(a: i32, b: i32) -> i32 {
    return a + b;
}

pub fn main() {
    println!("{}", add(5, 3));
}
```

**–ï—Å–ª–∏ –µ—Å—Ç—å @route (Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ):**
```backenium
@route "/api/users" GET
    return "users"
end
```

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ–ª–Ω—ã–π Web —Å–µ—Ä–≤–µ—Ä —Å actix

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

**test_simple_app.bkc:**
```backenium
func add(int a, int b) -> int
    return a + b
end

func main()
    int result = add(5, 3)
    print(result)
end
```

**–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è:**
```rust
pub fn add(
    a: i32,
    b: i32
) -> i32 {
    return a + b;
}

pub fn main() {
    let result: i32 = add(5, 3);
    println!("{}", result);
}
```

‚úÖ **–ß–∏—Å—Ç—ã–π, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–¥!**

### –ü—Ä–∏–º–µ—Ä 2: REST API

**test_api.bkc:**
```backenium
import api from rest

func get_users() -> txt
    return "users list"
end

@route "/api/users" GET
    txt users = get_users()
    return users
end
```

**–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è:**
```rust
use actix_web::{get, post, put, delete, App, HttpServer, HttpResponse, Responder};

pub fn get_users() -> String {
    return "users list".to_string();
}

#[get("/api/users")]
async fn get_api_users() -> impl Responder {
    HttpResponse::Ok().body("response")
}

#[actix_web::main]
async fn main() -> std::io::Result<()> {
    println!("Starting Backenium server on http://127.0.0.1:8080");

    HttpServer::new(|| {
        App::new()
            .service(get_api_users)
    })
    .bind(("127.0.0.1", 8080))?
    .run()
    .await
}
```

‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π Web —Å–µ—Ä–≤–µ—Ä!**

## –õ–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞

```
–î–ª—è –∫–∞–∂–¥–æ–≥–æ Backenium –ø—Ä–æ–≥—Ä–∞–º–º—ã:

1. –°–æ—Ä—Ç–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã (—Ñ—É–Ω–∫—Ü–∏–∏, —Ä–æ—É—Ç—ã)

2. –ï–°–õ–ò –µ—Å—Ç—å @route:
   ‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º actix_web –∏–º–ø–æ—Ä—Ç—ã
   ‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ (–æ–±—ã—á–Ω—ã–µ)
   ‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º handlers –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–æ—É—Ç–∞
   ‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º async main —Å HttpServer
   
3. –ï–°–õ–ò –Ω–µ—Ç @route:
   ‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏–º–ø–æ—Ä—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
   ‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏
   ‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ–±—ã—á–Ω—ã–π main

4. String –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:
   ‚Üí –í—Å–µ —Å—Ç—Ä–æ–∫–∏: "text" ‚Üí "text".to_string()
   ‚Üí –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

### CodeGenerator

```rust
pub fn generate(&mut self, items: &[TopLevel]) -> String {
    // 1. –°–æ—Ä—Ç–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
    // 2. –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω—É–∂–Ω—ã–µ –º–æ–¥—É–ª–∏
    // 3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏–º–ø–æ—Ä—Ç—ã
    // 4. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏
    // 5. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º handlers (–µ—Å–ª–∏ –µ—Å—Ç—å —Ä–æ—É—Ç—ã)
    // 6. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º main
}

fn generate_route_handler(&mut self, route: &RouteDef) {
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º #[get/post/put/delete(...)]
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º async fn —Å impl Responder
}

fn generate_main_with_server(&mut self, routes: &[&RouteDef]) {
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º #[actix_web::main]
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º HttpServer
    // –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ handlers —á–µ—Ä–µ–∑ .service()
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

‚úÖ –£—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞:
- –ü—Ä–æ—Å—Ç—ã—Ö –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
- REST API —Å –æ–¥–Ω–∏–º –º–∞—Ä—à—Ä—É—Ç–æ–º
- REST API —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏
- –§—É–Ω–∫—Ü–∏—è—Ö —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –°—Ç—Ä–æ–∫–æ–≤—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–∞—Ö
- –†–∞–∑–ª–∏—á–Ω—ã—Ö HTTP –º–µ—Ç–æ–¥–∞—Ö (GET, POST, PUT, DELETE)

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ 100% –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å v0.1.2
- ‚úÖ –ö–æ–¥ v0.1.1 —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã

## –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### src/codegen.rs (–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω)

–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- `generate()` - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ –≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- `generate_route_handler()` - –Ω–æ–≤–æ–µ, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç handlers
- `generate_main_with_server()` - –Ω–æ–≤–æ–µ, –¥–ª—è Web —Å–µ—Ä–≤–µ—Ä–∞
- `generate_expr()` - —É–ª—É—á—à–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏

### src/lexer.rs, src/parser.rs

–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π - —Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å v0.1.2

## –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

- ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è
- ‚úÖ –ë–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ë–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- ‚úÖ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π Rust –∫–æ–¥

## –ü–ª–∞–Ω—ã –Ω–∞ v0.2

- [ ] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤: `/api/users/:id`
- [ ] Middleware –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- [ ] JSON –æ—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–ª—É—á–µ–Ω–∏–µ
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (Result/Option)
- [ ] –¶–∏–∫–ª—ã (while, for)
- [ ] –ú–∞—Å—Å–∏–≤—ã –∏ –≤–µ–∫—Ç–æ—Ä—ã

## –ú–∏–≥—Ä–∞—Ü–∏—è

–í–∞—à –∫–æ–¥ v0.1.2 —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –µ—Å—Ç—å. –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ!

```bash
cargo build --release
```

–ù–æ–≤—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

**Backenium v0.1.3** - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, —Ä–∞–±–æ—á–∏–π Rust –∫–æ–¥! üî•
